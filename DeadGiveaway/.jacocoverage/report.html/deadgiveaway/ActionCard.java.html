<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ActionCard.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;DeadGiveaway&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.html" class="el_package">deadgiveaway</a> &gt; <span class="el_source">ActionCard.java</span></div><h1>ActionCard.java</h1><pre class="source lang-java linenums">package deadgiveaway;
import java.util.EnumMap;
/**
 * The ActionCard class provides implementation methods to simulate the
 * properties of an action card in the game.
 * @author Quang Ngo
 * @version 2.0
 */
public class ActionCard extends Card 
{
    /**
     * Enumerator for the type of action card.
     */
<span class="pc" id="L14">    public enum Type</span>
    {
        /** Suggest from any location. */
<span class="fc" id="L17">        SUGGESTALL,</span>
        /** Suggest from current location. */
<span class="fc" id="L19">        SUGGESTCUR,</span>
        /** Regular snoop. */
<span class="fc" id="L21">        SNOOP,</span>
        /** All snoop left. */
<span class="fc" id="L23">        ALLSNOOPLEFT,</span>
        /** All snoop right. */
<span class="fc" id="L25">        ALLSNOOPRIGHT,</span>
        /** Super sleuth female. */
<span class="fc" id="L27">        SSFEMALE,</span>
        /** Super sleuth male. */
<span class="fc" id="L29">        SSMALE,</span>
        /** Super sleuth flying. */
<span class="fc" id="L31">        SSFLYING,</span>
        /** Super sleuth blue. */
<span class="fc" id="L33">        SSBLUE,</span>
        /** Super sleuth south. */
<span class="fc" id="L35">        SSSOUTH,</span>
        /** Super sleuth west. */
<span class="fc" id="L37">        SSWEST,</span>
        /** Private tip suspect. */
<span class="fc" id="L39">        PTSUSPECT,</span>
        /** Private tip vehicle. */
<span class="fc" id="L41">        PTVEHICLE,</span>
        /** Private tip destination. */
<span class="fc" id="L43">        PTDESTINATION,</span>
        /** Private tip female. */
<span class="fc" id="L45">        PTFEMALE,</span>
        /** Private tip vehicle. */
<span class="fc" id="L47">        PTREDVEHICLE,</span>
        /** Private tip north location. */
<span class="fc" id="L49">        PTNORTHDEST</span>
    }
    
    /** Map for enums containing the title of the cards. */
<span class="fc" id="L53">    private final EnumMap&lt;Type, String&gt; enumTitle = new EnumMap(Type.class);</span>
    /** Map for enums containing the description of the cards. */
<span class="fc" id="L55">    private EnumMap&lt;Type, String&gt; enumDesc = new EnumMap(Type.class);</span>
    /** type - Type enum representing the action subtype */
    private final Type kType;
    
    /**
     * Constructs a new ActionCard. Sets the title of this card accordingly.
     * @param type The type of action card this card is
     */
    public ActionCard(Type type)
<span class="fc" id="L64">    {</span>
       //Initalize the card's field with the given type
<span class="fc" id="L66">        mapSetupT();</span>
<span class="fc" id="L67">        this.kType = type;</span>
<span class="fc" id="L68">        super.setTitle(enumTitle.get(kType));</span>
<span class="fc" id="L69">    }</span>

    private void mapSetupT()
    {
<span class="fc" id="L73">        enumTitle.put(Type.ALLSNOOPLEFT, &quot;All Snoop&quot;);</span>
<span class="fc" id="L74">        enumTitle.put(Type.ALLSNOOPRIGHT, &quot;All Snoop&quot;);</span>
<span class="fc" id="L75">        enumTitle.put(Type.PTDESTINATION, &quot;Private Tip&quot;);</span>
<span class="fc" id="L76">        enumTitle.put(Type.PTFEMALE, &quot;Private Tip&quot;);</span>
<span class="fc" id="L77">        enumTitle.put(Type.PTNORTHDEST, &quot;Private Tip&quot;);</span>
<span class="fc" id="L78">        enumTitle.put(Type.PTREDVEHICLE, &quot;Private Tip&quot;);</span>
<span class="fc" id="L79">        enumTitle.put(Type.PTSUSPECT, &quot;Private Tip&quot;);</span>
<span class="fc" id="L80">        enumTitle.put(Type.PTVEHICLE, &quot;Private Tip&quot;);</span>
<span class="fc" id="L81">        enumTitle.put(Type.SNOOP, &quot;Snoop&quot;);</span>
<span class="fc" id="L82">        enumTitle.put(Type.SSBLUE, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L83">        enumTitle.put(Type.SSFEMALE, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L84">        enumTitle.put(Type.SSFLYING, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L85">        enumTitle.put(Type.SSMALE, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L86">        enumTitle.put(Type.SSSOUTH, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L87">        enumTitle.put(Type.SSWEST, &quot;Super Sleuth&quot;);</span>
<span class="fc" id="L88">        enumTitle.put(Type.SUGGESTALL, &quot;Suggestion&quot;);</span>
<span class="fc" id="L89">        enumTitle.put(Type.SUGGESTCUR, &quot;Suggestion&quot;);</span>
<span class="fc" id="L90">        mapSetupD();</span>
<span class="fc" id="L91">    }</span>
    
    private void mapSetupD()
    {
<span class="fc" id="L95">        enumDesc.put(Type.ALLSNOOPLEFT, &quot;All players snoop on the hand &quot;</span>
                + &quot;to their left.&quot;);
<span class="fc" id="L97">        enumDesc.put(Type.ALLSNOOPRIGHT, &quot;All players snoop on the hand &quot;</span>
                + &quot;to their left.&quot;);
<span class="fc" id="L99">        enumDesc.put(Type.PTDESTINATION, &quot;Show me all your destination cards.&quot;);</span>
<span class="fc" id="L100">        enumDesc.put(Type.PTFEMALE, &quot;Show me one femalse suspect card.&quot;);</span>
<span class="fc" id="L101">        enumDesc.put(Type.PTNORTHDEST, &quot;Show me a location in the north.&quot;);</span>
<span class="fc" id="L102">        enumDesc.put(Type.PTREDVEHICLE, &quot;Show me a red vehicle card.&quot;);</span>
<span class="fc" id="L103">        enumDesc.put(Type.PTSUSPECT, &quot;Show me all your suspect card.&quot;);</span>
<span class="fc" id="L104">        enumDesc.put(Type.PTVEHICLE, &quot;Show me all your vehicle cards.&quot;);</span>
<span class="fc" id="L105">        enumDesc.put(Type.SNOOP, &quot;Snoop on any player's hand.&quot;);</span>
<span class="fc" id="L106">        enumDesc.put(Type.SSBLUE, &quot;Show me one blue vehicle card.&quot;);</span>
<span class="fc" id="L107">        enumDesc.put(Type.SSFEMALE, &quot;Show me one female suspect card&quot;);</span>
<span class="fc" id="L108">        enumDesc.put(Type.SSFLYING, &quot;Show me one flying vehicle card.&quot;);</span>
<span class="fc" id="L109">        enumDesc.put(Type.SSMALE, &quot;Show me one male suspect card.&quot;);</span>
<span class="fc" id="L110">        enumDesc.put(Type.SSSOUTH, &quot;Show me a location in the south&quot;);</span>
<span class="fc" id="L111">        enumDesc.put(Type.SSWEST, &quot;Show m e a location in the west.&quot;);</span>
<span class="fc" id="L112">        enumDesc.put(Type.SUGGESTALL, &quot;Make a suggestion from any location.&quot;);</span>
<span class="fc" id="L113">        enumDesc.put(Type.SUGGESTCUR, &quot;Make a suggestion from your current&quot;</span>
                + &quot; location or switch locations.&quot;);
<span class="fc" id="L115">    }</span>
    /**
     * Returns the title of the card type.
     * @return string representing the title of the card
     */
    public String title()
    {
<span class="fc" id="L122">        return enumTitle.get(kType);</span>
    }
    
    /**
     * Returns whether this card is the same as the other action card
     * @param other the action card to check for equivalence to
     * @return whether this card is equal to the other action card
     */
    @Override
    public boolean equals(Object other) 
    {
        //IF the other card is an actioncard of equivalent type
<span class="fc bfc" id="L134" title="All 4 branches covered.">        return (other instanceof ActionCard &amp;&amp;</span>
               ((ActionCard)other).kType == this.kType);
    }
    
    /**
     * Returns the subtype of this action card
     * @return the Type of this Action Card 
     */
    public Type getType() 
    {
        //Return the type enum directly
<span class="fc" id="L145">        return kType;</span>
    }
    /**
     * Checks if a clue card corresponds to a particular action
     * @param card the clue card to check
     * @param suggestion clue cards to compare to if action is suggestion
     * @return Whether the clue card would be shown if subject to this private
     * tip
     */
    public boolean matchesCard(Card card, Card[] suggestion) 
    {
<span class="fc" id="L156">        boolean correct = false;</span>
        
        //IF the user's input is disproving a suggestion
<span class="pc bpc" id="L159" title="2 of 4 branches missed.">        if (kType == Type.SUGGESTALL || kType == Type.SUGGESTCUR)</span>
        {
            //CHECK correctness based on the suggestion
<span class="nc" id="L162">            correct = isCorrectTypeSuggest(card, suggestion);</span>
        }
        //IF the user's input is in response to an Action
        else
        {
            //CHECK correctness based on the action card
<span class="fc" id="L168">            correct = isCorrectTypeAction(card);</span>
        }
        
<span class="fc" id="L171">        return correct;</span>
    }

    /**
     * Returns a description of this card
     * @return The description of this card, equivalent to the String
     * representing the type enum.
     */
    @Override
    public String toString() 
    {
<span class="fc" id="L182">        return enumTitle.get(kType);</span>
    }
    
    /**
     * Deep copies the action card
     * @return The copy of this action card
     * @throws CloneNotSupportedException if the card cannot be cloned
     */
    @Override
    public Object clone() throws CloneNotSupportedException
    {
<span class="fc" id="L193">        return new ActionCard(kType);</span>
    }
    
    private boolean isCorrectTypeSuggest(Card card, Card[] suggest)
    {
<span class="nc bnc" id="L198" title="All 4 branches missed.">        return card.equals(suggest[0]) || card.equals(suggest[1]) || </span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">               card.equals(suggest[2]);</span>
    }
    
    private boolean isCorrectTypeAction(Card card)
    {
<span class="fc" id="L204">        boolean returnVal = true;</span>
        
        //SWITCH on the type of private tip the played action card is
<span class="pc bfc" id="L207" title="All 7 branches covered.">        switch(kType)</span>
        {
            //CASE private tip destination
            case PTDESTINATION:
<span class="fc" id="L211">                returnVal = actionPrivateTipDest(card);</span>
<span class="fc" id="L212">                break;</span>
            //CASE private tip female suspect
            case PTFEMALE:
<span class="fc" id="L215">                returnVal = actionPrivateTipFemale(card);</span>
<span class="fc" id="L216">                break;</span>
            //CASE private tip male suspect
            case PTSUSPECT:
<span class="fc" id="L219">                returnVal = actionPrivateTipSuspect(card);</span>
<span class="fc" id="L220">                break;</span>
            //CASE private tip vehicle
            case PTVEHICLE:
<span class="fc" id="L223">                returnVal = actionPrivateTipVehicle(card);</span>
<span class="fc" id="L224">                break;</span>
            //CASE private tip red vehicle
            case PTREDVEHICLE:
<span class="fc" id="L227">                returnVal = actionPrivateTipRedVehicle(card);</span>
<span class="fc" id="L228">                break;</span>
            //CASE private tip northern destination
            case PTNORTHDEST:
<span class="fc" id="L231">                returnVal = actionPrivateTipNorthDest(card);</span>
<span class="fc" id="L232">                break;</span>
            default:
<span class="fc" id="L234">                returnVal = isCorrectTypeActionSuperSleuth(card);</span>
        }
<span class="fc" id="L236">        return returnVal;</span>
    }
    
    private boolean actionPrivateTipDest(Card card)
    {
<span class="fc" id="L241">        return card instanceof LocationCard;</span>
    }
    private boolean actionPrivateTipFemale(Card card)
    {
<span class="fc bfc" id="L245" title="All 2 branches covered.">        return (card instanceof SuspectCard</span>
<span class="fc bfc" id="L246" title="All 2 branches covered.">                &amp;&amp; ((SuspectCard)card).getGender()</span>
                == SuspectCard.Gender.GENDER2);
    }
    private boolean actionPrivateTipSuspect(Card card)
    {
<span class="fc" id="L251">        return card instanceof SuspectCard;</span>
    }
    private boolean actionPrivateTipVehicle(Card card)
    {
<span class="fc" id="L255">        return card instanceof VehicleCard;</span>
    }
    private boolean actionPrivateTipRedVehicle(Card card)
    {
<span class="fc bfc" id="L259" title="All 2 branches covered.">        return (card instanceof VehicleCard </span>
<span class="fc bfc" id="L260" title="All 2 branches covered.">                &amp;&amp; ((VehicleCard)card).getColor()</span>
                == VehicleCard.Color.COLOR1);
    }
    private boolean actionPrivateTipNorthDest(Card card)
    {
<span class="fc bfc" id="L265" title="All 2 branches covered.">        return (card instanceof LocationCard</span>
<span class="fc bfc" id="L266" title="All 2 branches covered.">                &amp;&amp; (((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION1
<span class="fc bfc" id="L268" title="All 2 branches covered.">                || ((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION2));
    }
    
    private boolean isCorrectTypeActionSuperSleuth(Card card)
    {
<span class="fc" id="L274">        boolean returnVal = true;</span>
        
        //SWITCH on the type of super sleuth the played action card is
<span class="pc bpc" id="L277" title="5 of 7 branches missed.">        switch(kType)</span>
        {
            //CASE super slueth female suspect
            case SSFEMALE:
<span class="nc" id="L281">                returnVal = actionSuperSleuthFemale(card);</span>
<span class="nc" id="L282">                break;</span>
            //CASE super sleuth male suspect
            case SSMALE:
<span class="fc" id="L285">                returnVal = actionSuperSleuthMale(card);</span>
<span class="fc" id="L286">                break;</span>
            //CASE super sleuth flying vehicle
            case SSFLYING:
<span class="nc" id="L289">                returnVal = actionSuperSleuthFlying(card);</span>
<span class="nc" id="L290">                break;</span>
            //CASE super sleuth blue vehicle
            case SSBLUE:
<span class="nc" id="L293">                returnVal = actionSuperSleuthBlue(card);</span>
<span class="nc" id="L294">                break;</span>
            //CASE super sleuth south destination
            case SSSOUTH:
<span class="fc" id="L297">                returnVal = actionSuperSleuthSouth(card);</span>
<span class="fc" id="L298">                break;</span>
            //CASE super sleuth west destination
            case SSWEST:
<span class="nc" id="L301">                returnVal = actionSuperSleuthWest(card);</span>
<span class="nc" id="L302">                break;</span>
            default:
        }     
        
<span class="fc" id="L306">        return returnVal;</span>
    }
    
    private boolean actionSuperSleuthFemale(Card card)
    {
<span class="nc bnc" id="L311" title="All 2 branches missed.">        return (card instanceof SuspectCard</span>
<span class="nc bnc" id="L312" title="All 2 branches missed.">                &amp;&amp; ((SuspectCard)card).getGender()</span>
                == SuspectCard.Gender.GENDER2);
    }
    private boolean actionSuperSleuthMale(Card card)
    {
<span class="fc bfc" id="L317" title="All 2 branches covered.">        return (card instanceof SuspectCard</span>
<span class="pc bpc" id="L318" title="1 of 2 branches missed.">                &amp;&amp; ((SuspectCard)card).getGender()</span>
                == SuspectCard.Gender.GENDER1);
    }
    private boolean actionSuperSleuthFlying(Card card)
    {
<span class="nc bnc" id="L323" title="All 2 branches missed.">        return (card instanceof VehicleCard </span>
<span class="nc bnc" id="L324" title="All 2 branches missed.">                &amp;&amp; ((VehicleCard)card).getType()</span>
                == VehicleCard.Type.TYPE1);
    }
    private boolean actionSuperSleuthBlue(Card card)
    {
<span class="nc bnc" id="L329" title="All 2 branches missed.">        return (card instanceof VehicleCard </span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">                &amp;&amp; ((VehicleCard)card).getColor()</span>
                == VehicleCard.Color.COLOR2);
    }
    private boolean actionSuperSleuthSouth(Card card)
    {
<span class="fc bfc" id="L335" title="All 2 branches covered.">        return (card instanceof LocationCard</span>
<span class="pc bpc" id="L336" title="1 of 2 branches missed.">                &amp;&amp; (((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION3
<span class="pc bpc" id="L338" title="1 of 2 branches missed.">                || ((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION4));
    }
    private boolean actionSuperSleuthWest(Card card)
    {
<span class="nc bnc" id="L343" title="All 2 branches missed.">        return (card instanceof LocationCard</span>
<span class="nc bnc" id="L344" title="All 2 branches missed.">                &amp;&amp; (((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION2
<span class="nc bnc" id="L346" title="All 2 branches missed.">                || ((LocationCard)card).getDirection()</span>
                == LocationCard.Direction.DIRECTION3));
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span></div></body></html>